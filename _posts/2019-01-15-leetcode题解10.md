---
title: 10验证数独
layout: post
categories:  数组
excerpt: 
Tags: leetcode
---

判断一个 9x9 的数独是否有效。只需要**根据以下规则**，验证已经填入的数字是否有效即可。

1. 数字 `1-9` 在每一行只能出现一次。
2. 数字 `1-9` 在每一列只能出现一次。
3. 数字 `1-9` 在每一个以粗实线分隔的 `3x3` 宫内只能出现一次。

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png)

上图是一个部分填充的有效的数独。

数独部分空格内已填入了数字，空白格用 `'.'` 表示。

**示例 1:**

```
输入:
[
  ["5","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
输出: true
```

- 使用3个二维数组，rows、cols、boxs分别用来存储行、列、子九宫格的情况
- 其中一维下标 n 对于3个二维数组分别表示：第 n 行，第 n 列，第 n 个子九宫格
- 其中二维下标 m 对于3个二维数组分别表示：在当前行、列、子九宫格的数字m
- 二维数组中的值则表示：该数字出现的次数（在本题中次数超过 1 次即代表重复）
- 举例：rows[2][5] = 1，第 2 行中数字 5 出现了 1 次



![img](https://pic4.zhimg.com/80/v2-6f131d16344a223cf0734a7d63a563ab_hd.jpg)



- 上图分别标明了行、列和子九宫格，一切都是从0开始

- 行、列号很好定位，通过遍历下标即可获得，关键的在于子九宫格号的获取

- 通过计算可知，当行号为 i，列号为 j 的时候，所处的子九宫格号为 k = i / 3 * 3 + j / 3，比如第3行第2列处在第3个子九宫格中

- 定位到二维数组中的位置后，如果该位置为0，说明未出现过，则变为1，如果为1，则说明出现过，发生重复，则返回false

- 全部检查完毕没有问题则返回true

  ```c++
  class Solution {
  public:
      bool isValidSudoku(vector<vector<char>>& board) {
          int row[9][9]={0}, col[9][9]={0}, box[9][9]={0};
          for(int i=0;i<board.size();i++){
          	for(int j=0;j<board[i].size();j++){
          		if(board[i][j]!='.'){
          			int number=board[i][j]-'0'-1,k=i/3*3+j/3;
          			if(row[i][number]||col[j][number]||box[k][number]){
          				return false;
          			}
          			else{
          				row[i][number]=1;
          				col[j][number]=1;
          				box[k][number]=1;
          			}
          		}
          	}
          }
          return true;
      }
  };
  ```
