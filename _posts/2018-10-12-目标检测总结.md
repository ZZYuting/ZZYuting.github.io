---
title: 目标检测总结(1)
layout: post
categories: object detection
excerpt: 
tags: 面试
---

目标检测中的正负样本：

首先，检测问题中的正负样本并非人工标注的那些框框，而是程序中（网络）生成出来的ROI，也就是**faster rcnn中的anchor boxes以及SSD中在不同分辨率的feature map中的默认框**，**这些框中的一部分被选为正样本，一部分被选为负样本，另外一部分被当作背景或者不参与运算**。不同的框架有不同的策略，大致都是**根据IOU的值**。在fast的框架中，**SS算法生成的框与GT框进行IOU的判断，进而选取正负样本**，总之，正负样本都是针对于候选框而言，而非GT数据。

正负样本不平衡：

1.OHEM(online hard example miniing):

OHEM算法的核心思想是**根据输入样本的损失进行筛选**，筛选出**hard example**，**表示对分类和检测影响较大的样本**，然后将筛选得到的这些样本应用在随机梯度下降中训练。在实际操作中是**将原来的一个ROI Network扩充为两个ROI Network，这两个ROI Network共享参数。其中前面一个ROI Network只有前向操作，主要用于计算损失；后面一个ROI Network包括前向和后向操作，以hard example作为输入，计算损失并回传梯度。**

![image](https://ws1.sinaimg.cn/large/006tNbRwly1fw5i2ae6ocj31kw0gqe1l.jpg)

![image](https://ws3.sinaimg.cn/large/006tNbRwly1fw5i4zdhp7j31kw0uqkjd.jpg)

